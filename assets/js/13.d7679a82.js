(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{570:function(t,a,s){"use strict";s.r(a);var n=s(9),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h4",{attrs:{id:"_1-前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-前言"}},[t._v("#")]),t._v(" 1.前言")]),t._v(" "),s("p",[t._v("iPhoneX 取消了物理按键，改成底部小黑条，这一改动导致网页出现了比较尴尬的屏幕适配问题。对于网页而言，顶部（刘海部位）的适配问题浏览器已经做了处理，所以我们只需要关注底部与小黑条的适配问题即可（即常见的吸底导航、返回顶部等各种相对底部 fixed 定位的元素）。\n比如一些需要贴在底部的按钮，和呼起的tabBar和底部弹出框，在iphoneX上就会出现被小黑条遮挡内容，或者页面上出现白色空隙的问题。")]),t._v(" "),s("h4",{attrs:{id:"_2-解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-解决"}},[t._v("#")]),t._v(" 2.解决")]),t._v(" "),s("blockquote",[s("p",[t._v("对现有 viewport meta 标签的一个扩展，用于设置网页在可视窗口的布局方式")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("- contain: 可视窗口完全包含网页内容\n- cover：网页内容完全覆盖可视窗口\n- auto：默认值，跟 contain 表现一致\n")])])]),s("blockquote",[s("p",[t._v("tips: 注意：网页默认不添加扩展的表现是 viewport-fit=contain，需要适配 iPhoneX 必须设置 viewport-fit=cover，这是适配的关键步骤。")])]),t._v(" "),s("h4",{attrs:{id:"_3-env-和-constant"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-env-和-constant"}},[t._v("#")]),t._v(" 3.env() 和 constant()")]),t._v(" "),s("blockquote",[s("p",[t._v("iOS11 新增特性，Webkit 的一个 CSS 函数，用于设定安全区域与边界的距离，有四个预定义的变量：")])]),t._v(" "),s("ul",[s("li",[t._v("safe-area-inset-left：安全区域距离左边边界距离")]),t._v(" "),s("li",[t._v("safe-area-inset-right：安全区域距离右边边界距离")]),t._v(" "),s("li",[t._v("safe-area-inset-top：安全区域距离顶部边界距离")]),t._v(" "),s("li",[t._v("safe-area-inset-bottom：安全区域距离底部边界距离")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 兼容代码")]),t._v("\npadding-bottom: constant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" /* 兼容 iOS "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.2")]),t._v(" */\npadding-bottom: env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" /* 兼容 iOS "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11.2")]),t._v(" */\n")])])]),s("h4",{attrs:{id:"_4-适配步骤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-适配步骤"}},[t._v("#")]),t._v(" 4.适配步骤")]),t._v(" "),s("ul",[s("li",[t._v("设置网页在可视窗口的布局方式")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("meta "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"viewport"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width=device-width, viewport-fit=cover"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),s("ul",[s("li",[t._v("fixed 完全吸底元素场景的适配")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("padding-bottom: constant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npadding-bottom: env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过计算函数 calc 覆盖原来高度")]),t._v("\nheight: calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("60px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("假设值"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + constant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nheight: calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("60px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("假设值"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("fixed 非完全吸底元素场景的适配")])]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("margin-bottom: constant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmargin-bottom: env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过计算函数 calc 覆盖原来高度")]),t._v("\nbottom: calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("假设值"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + constant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbottom: calc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("50px"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("假设值"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" + env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("safe-area-inset-bottom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);